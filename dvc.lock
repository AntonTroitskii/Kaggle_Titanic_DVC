schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py --config=params.yaml
    deps:
    - path: data/init/titanic.zip
      md5: 10f742b24e336c6671dda8bdaa5580a6
      size: 34877
    - path: src/prepare.py
      md5: 481a49af37827281228a4302a94e336f
      size: 1894
    outs:
    - path: data/prepared
      md5: 86f1d7cb498bcd01fb5fafa997e26fb4.dir
      size: 91604
      nfiles: 3
  featurize:
    cmd: python src/featurize.py --config=params.yaml
    deps:
    - path: data/prepared
      md5: 86f1d7cb498bcd01fb5fafa997e26fb4.dir
      size: 91604
      nfiles: 3
    - path: src/featurize.py
      md5: ad97f9b4c866e75d0cd6cb22276c48af
      size: 2846
    outs:
    - path: data/featurized
      md5: 684f59df91c4258f15ba8db74e2228af.dir
      size: 80235
      nfiles: 2
  train:
    cmd: python src/train.py --config=params.yaml
    deps:
    - path: data/featurized
      md5: 684f59df91c4258f15ba8db74e2228af.dir
      size: 80235
      nfiles: 2
    - path: src/featurize.py
      md5: ad97f9b4c866e75d0cd6cb22276c48af
      size: 2846
    - path: src/train.py
      md5: 52b5c6dffa9571eb76fe8f8b3cf3024f
      size: 1331
    params:
      params.yaml:
        train.n_estim: 200
    outs:
    - path: models/model.pkl
      md5: 8374086fc319a8bdf15b5c9923053836
      size: 3990519
  evaluate:
    cmd: python src/evaluate.py --config=params.yaml
    deps:
    - path: models/model.pkl
      md5: 8374086fc319a8bdf15b5c9923053836
      size: 3990519
    - path: src/evaluate.py
      md5: fc6386c55b1634e47db33c2f13843ab1
      size: 3335
    - path: src/train.py
      md5: 52b5c6dffa9571eb76fe8f8b3cf3024f
      size: 1331
    outs:
    - path: reports/scores.json
      md5: 83b021ba199a5ef4f0a321def2c50f6f
      size: 165
